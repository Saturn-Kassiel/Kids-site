<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–†–∞–∑–≤–∏–≤–∞–π–∫–∞</title>
    <link rel="icon" href="favicon/favicon.webp" type="image/webp">
    <link rel="stylesheet" href="style.css">
    <!-- Apply saved theme instantly to prevent flash -->
    <script>
        (function(){
            var t = localStorage.getItem('theme');
            if (t) document.documentElement.setAttribute('data-theme', t);
        })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

<div id="loader"><div class="spinner"></div></div>
<div id="toast"></div>
<div class="stars-host" id="stars-host"></div>

<div id="app">

    <!-- TOP BAR -->
    <div id="top-bar">
        <button id="back-btn" class="hidden" onclick="App.back()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            –ù–∞–∑–∞–¥
        </button>
        <span id="page-title-bar" class="hidden"></span>
        <span style="flex:1"></span>
        <button id="settings-icon-btn" onclick="App.navigate('settings')" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
    </div>

    <!-- ========== MAIN ========== -->
    <section id="main">
        <div class="home-logo">–†–∞–∑–≤–∏–≤–∞–π–∫–∞ üåü</div>
        <div class="home-sub">–í—ã–±–µ—Ä–∏ —Ä–∞–∑–¥–µ–ª –∏ –Ω–∞—á–∏–Ω–∞–π!</div>
        <div class="menu-grid">
            <button class="menu-card mc-alphabet" onclick="Media.initSection('alphabet')">
                <div class="icon-wrap">üî§</div>–ê–ª—Ñ–∞–≤–∏—Ç
            </button>
            <button class="menu-card mc-numbers" onclick="Media.initSection('numbers')">
                <div class="icon-wrap">üî¢</div>–¶–∏—Ñ—Ä—ã
            </button>
            <button class="menu-card mc-colors" onclick="Media.initSection('colors')">
                <div class="icon-wrap">üé®</div>–¶–≤–µ—Ç–∞
            </button>
            <button class="menu-card mc-songs" onclick="Songs.init()">
                <div class="icon-wrap">üéµ</div>–ü–µ—Å–µ–Ω–∫–∏
            </button>
            <button class="menu-card mc-puzzles" onclick="Puzzles.init()">
                <div class="icon-wrap">üß©</div>–†–µ–±—É—Å—ã
            </button>
            <button class="menu-card mc-riddles" onclick="Riddles.init()">
                <div class="icon-wrap">ü§î</div>–ó–∞–≥–∞–¥–∫–∏
            </button>
            <button class="menu-card mc-finger" onclick="App.navigate('finger')">
                <div class="icon-wrap">üñêÔ∏è</div>–ü–∞–ª—å—á–∏–∫–æ–≤—ã–µ –∏–≥—Ä—ã
            </button>
            <button class="menu-card mc-articul" onclick="App.navigate('articul')">
                <div class="icon-wrap">üëÑ</div>–ê—Ä—Ç–∏–∫—É–ª. –≥–∏–º–Ω.
            </button>
            <button class="menu-card mc-breath" onclick="App.navigate('breath')">
                <div class="icon-wrap">üí®</div>–î—ã—Ö–∞—Ç. –≥–∏–º–Ω.
            </button>
            <button class="menu-card mc-info" onclick="App.navigate('info')">
                <div class="icon-wrap">‚ÑπÔ∏è</div>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            </button>
            <button class="menu-card mc-stats" onclick="Stats.show()">
                <div class="icon-wrap">üìä</div>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </button>
            <button class="menu-card mc-settings" onclick="App.navigate('settings')">
                <div class="icon-wrap">‚öôÔ∏è</div>–ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>
    </section>

    <!-- ========== MEDIA PAGE (Alphabet / Numbers / Colors) ========== -->
    <section id="media-page" class="hidden">
        <div id="video-wrap">
            <video id="global-video" loop muted playsinline></video>
            <div class="video-placeholder-inner" id="video-placeholder">
                <div class="pi">üé¨</div>
                <span id="video-label">‚Äî</span>
            </div>
        </div>
        <div class="sp12"></div>

        <div class="audio-player">
            <div class="track-info">
                <div class="track-icon" id="track-icon">üéµ</div>
                <div>
                    <div class="track-name" id="track-name">‚Äî</div>
                    <div class="track-sub"  id="track-sub">‚Äî</div>
                </div>
            </div>
            <div class="progress-bar-wrap" id="prog-wrap">
                <div id="progress-bar"></div>
            </div>
            <div class="progress-times">
                <span id="time-cur">0:00</span>
                <span id="time-dur">0:00</span>
            </div>
            <div class="player-btns">
                <button class="ctrl-btn" id="shuffle-btn" onclick="Media.toggleShuffle()" title="–ü–µ—Ä–µ–º–µ—à–∞—Ç—å">üîÄ</button>
                <button class="ctrl-btn" onclick="Media.prev()">‚èÆ</button>
                <button id="play-btn" onclick="Media.toggle()">‚ñ∂</button>
                <button class="ctrl-btn" onclick="Media.next()">‚è≠</button>
                <button class="ctrl-btn" id="repeat-btn" onclick="Media.toggleRepeat()" title="–ü–æ–≤—Ç–æ—Ä">üîÅ</button>
            </div>
        </div>
        <div class="sp8"></div>
        <div id="media-grid"></div>
    </section>

    <!-- ========== SONGS ========== -->
    <section id="songs" class="hidden">
        <div class="audio-player">
            <div class="track-info">
                <div class="track-icon">üéµ</div>
                <div>
                    <div class="track-name" id="song-name">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Å–µ–Ω–∫—É</div>
                    <div class="track-sub"  id="song-sub">‚Äî</div>
                </div>
            </div>
            <div class="progress-bar-wrap" id="song-prog-wrap">
                <div id="song-progress-bar"></div>
            </div>
            <div class="progress-times">
                <span id="song-time-cur">0:00</span>
                <span id="song-time-dur">0:00</span>
            </div>
            <div class="player-btns">
                <button class="ctrl-btn" id="song-shuffle-btn" onclick="Songs.toggleShuffle()">üîÄ</button>
                <button class="ctrl-btn" onclick="Songs.prev()">‚èÆ</button>
                <button id="song-play-btn" onclick="Songs.toggle()">‚ñ∂</button>
                <button class="ctrl-btn" onclick="Songs.nextSong()">‚è≠</button>
                <button class="ctrl-btn" id="song-repeat-btn" onclick="Songs.toggleRepeat()">üîÅ</button>
            </div>
        </div>
        <div class="sp8"></div>
        <div class="search-bar">
            <span>üîç</span>
            <input type="text" id="song-search" placeholder="–ù–∞–π—Ç–∏ –ø–µ—Å–µ–Ω–∫—É..." oninput="Songs.filter(this.value)">
        </div>
        <div class="songs-list" id="songs-list"></div>
    </section>

    <!-- ========== PUZZLES ========== -->
    <section id="puzzles" class="hidden">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
            <div class="level-tabs" style="flex:1;margin:0;">
                <button class="level-tab easy"   onclick="Puzzles.setLevel('easy')">üü¢ –ü—Ä–æ—Å—Ç–æ–π</button>
                <button class="level-tab"         onclick="Puzzles.setLevel('medium')">üü° –°—Ä–µ–¥–Ω–∏–π</button>
                <button class="level-tab"         onclick="Puzzles.setLevel('hard')">üî¥ –°–ª–æ–∂–Ω—ã–π</button>
            </div>
        </div>
        <div class="puzzle-img-wrap" id="puzzle-img">üß©</div>
        <div class="hint-box" id="puzzle-hint">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
        <input type="text" id="puzzle-input" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç —Ä–µ–±—É—Å–∞...">
        <div id="puzzle-msg"></div>
        <button class="submit-btn" onclick="Puzzles.check()">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <button class="next-btn" onclick="Puzzles.next()">–°–ª–µ–¥—É—é—â–∏–π —Ä–µ–±—É—Å ‚Üí</button>
    </section>

    <!-- ========== RIDDLES ========== -->
    <section id="riddles" class="hidden">
        <div class="riddle-box" id="riddle-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <div class="answer-img" id="riddle-img"></div>
        <input type="text" id="riddle-input" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç...">
        <div id="riddle-msg"></div>
        <button class="submit-btn" onclick="Riddles.check()">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
        <button class="next-btn" onclick="Riddles.next()">–°–ª–µ–¥—É—é—â–∞—è –∑–∞–≥–∞–¥–∫–∞ ‚Üí</button>
    </section>

    <!-- ========== FINGER GAMES ========== -->
    <section id="finger" class="hidden">
        <div style="text-align:center;padding:40px 0;font-size:64px;">üñêÔ∏è</div>
        <div class="riddle-box">–ü–∞–ª—å—á–∏–∫–æ–≤—ã–µ –∏–≥—Ä—ã</div>
        <div class="info-block" style="margin-top:12px;">
            <p>–†–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –î–æ–±–∞–≤–ª—è–π—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ê–¥–º–∏–Ω–∫—É!</p>
        </div>
    </section>

    <!-- ========== ARTICULATION ========== -->
    <section id="articul" class="hidden">
        <div style="text-align:center;padding:40px 0;font-size:64px;">üëÑ</div>
        <div class="riddle-box">–ê—Ä—Ç–∏–∫—É–ª—è—Ü–∏–æ–Ω–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞</div>
        <div class="info-block" style="margin-top:12px;">
            <p>–†–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –î–æ–±–∞–≤–ª—è–π—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ê–¥–º–∏–Ω–∫—É!</p>
        </div>
    </section>

    <!-- ========== BREATHING ========== -->
    <section id="breath" class="hidden">
        <div style="text-align:center;padding:40px 0;font-size:64px;">üí®</div>
        <div class="riddle-box">–î—ã—Ö–∞—Ç–µ–ª—å–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞</div>
        <div class="info-block" style="margin-top:12px;">
            <p>–†–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –î–æ–±–∞–≤–ª—è–π—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ê–¥–º–∏–Ω–∫—É!</p>
        </div>
    </section>

    <!-- ========== INFO ========== -->
    <section id="info" class="hidden">
        <div class="info-block">
            <h3>üåü –û —Å–∞–π—Ç–µ</h3>
            <p>–î–µ—Ç—Å–∫–∏–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Å–∞–π—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –±—É–∫–≤, —Ü–∏—Ñ—Ä, —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–µ—á–∏ —á–µ—Ä–µ–∑ –∏–≥—Ä—É –∏ –ø–µ—Å–µ–Ω–∫–∏.</p>
        </div>
        <div class="info-block">
            <h3>üìö –†–∞–∑–¥–µ–ª—ã</h3>
            <p>‚Ä¢ –ê–ª—Ñ–∞–≤–∏—Ç ‚Äî —É—á–∏–º –±—É–∫–≤—ã —Å –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ<br>‚Ä¢ –¶–∏—Ñ—Ä—ã ‚Äî —Å—á–∏—Ç–∞–µ–º –æ—Ç 0 –¥–æ 9<br>‚Ä¢ –¶–≤–µ—Ç–∞ ‚Äî –∏–∑—É—á–∞–µ–º —Ü–≤–µ—Ç–∞<br>‚Ä¢ –ü–µ—Å–µ–Ω–∫–∏ ‚Äî –ª—é–±–∏–º—ã–µ –¥–µ—Ç—Å–∫–∏–µ —Ç—Ä–µ–∫–∏<br>‚Ä¢ –†–µ–±—É—Å—ã –∏ –ó–∞–≥–∞–¥–∫–∏ ‚Äî —Ä–∞–∑–≤–∏–≤–∞–µ–º –º—ã—à–ª–µ–Ω–∏–µ<br>‚Ä¢ –ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞ ‚Äî –ø–∞–ª—å—á–∏–∫–æ–≤—ã–µ –∏ –∞—Ä—Ç–∏–∫. —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</p>
        </div>
        <div class="info-block">
            <h3>üí° –°–æ–≤–µ—Ç—ã</h3>
            <p>–ó–∞–Ω–∏–º–∞–π—Ç–µ—Å—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø–æ 15‚Äì20 –º–∏–Ω—É—Ç. –•–≤–∞–ª–∏—Ç–µ —Ä–µ–±—ë–Ω–∫–∞ –∑–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!</p>
        </div>
    </section>

    <!-- ========== STATS ========== -->
    <section id="stats" class="hidden">
        <div class="stat-card">
            <div class="stat-icon" style="background:var(--grad-purple)">üß©</div>
            <div style="flex:1">
                <div class="stat-val" id="st-puzzles">0</div>
                <div class="stat-lbl">–†–µ–±—É—Å–æ–≤ —Ä–µ—à–µ–Ω–æ</div>
                <div class="stat-track"><div class="stat-fill" id="sf-puzzles" style="background:var(--grad-purple)"></div></div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon" style="background:var(--grad-green)">ü§î</div>
            <div style="flex:1">
                <div class="stat-val" id="st-riddles">0</div>
                <div class="stat-lbl">–ó–∞–≥–∞–¥–æ–∫ —É–≥–∞–¥–∞–Ω–æ</div>
                <div class="stat-track"><div class="stat-fill" id="sf-riddles" style="background:var(--grad-green)"></div></div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon" style="background:var(--grad-yellow)">üéµ</div>
            <div style="flex:1">
                <div class="stat-val" id="st-songs">0</div>
                <div class="stat-lbl">–ü–µ—Å–µ–Ω–æ–∫ –ø—Ä–æ—Å–ª—É—à–∞–Ω–æ</div>
                <div class="stat-track"><div class="stat-fill" id="sf-songs" style="background:var(--grad-yellow)"></div></div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon" style="background:var(--grad-blue)">üî§</div>
            <div style="flex:1">
                <div class="stat-val" id="st-letters">0</div>
                <div class="stat-lbl">–ë—É–∫–≤ –∏–∑—É—á–µ–Ω–æ</div>
                <div class="stat-track"><div class="stat-fill" id="sf-letters" style="background:var(--grad-blue)"></div></div>
            </div>
        </div>
        <div style="text-align:center;color:var(--text2);font-size:13px;margin-top:12px;font-weight:700;">–ü—Ä–æ–¥–æ–ª–∂–∞–π —É—á–∏—Ç—å—Å—è ‚Äî —Ç—ã –º–æ–ª–æ–¥–µ—Ü! üåü</div>
    </section>

    <!-- ========== SETTINGS ========== -->
    <section id="settings" class="hidden">
        <div class="settings-group">
            <div class="settings-row">
                <span class="s-icon">üåô</span>
                <div><div class="s-label">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div><div class="s-sub">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</div></div>
                <div class="toggle" id="tog-theme" onclick="App.toggleTheme(this)"></div>
            </div>
        </div>
        <div class="settings-group">
            <div class="settings-row">
                <span class="s-icon">üîä</span>
                <div><div class="s-label">–ó–≤—É–∫</div><div class="s-sub">–ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div></div>
                <div class="toggle on" id="tog-sound" onclick="this.classList.toggle('on');saveSetting('sound',this.classList.contains('on'))"></div>
            </div>
            <div class="settings-row">
                <span class="s-icon">üéµ</span>
                <div><div class="s-label">–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ</div><div class="s-sub">–ó–∞–ø—É—Å–∫–∞—Ç—å –º—É–∑—ã–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div></div>
                <div class="toggle on" id="tog-auto" onclick="this.classList.toggle('on');saveSetting('auto',this.classList.contains('on'))"></div>
            </div>
            <div class="settings-row">
                <span class="s-icon">‚≠ê</span>
                <div><div class="s-label">–ê–Ω–∏–º–∞—Ü–∏–∏</div><div class="s-sub">–ó–≤—ë–∑–¥–æ—á–∫–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã</div></div>
                <div class="toggle on" id="tog-anim" onclick="this.classList.toggle('on');saveSetting('anim',this.classList.contains('on'))"></div>
            </div>
        </div>
        <div class="settings-group">
            <div class="settings-row" style="cursor:pointer" onclick="App.resetStats()">
                <span class="s-icon">üóëÔ∏è</span>
                <div><div class="s-label" style="color:#ef4444">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</div><div class="s-sub">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</div></div>
                <span style="color:var(--text2);font-size:18px">‚Ä∫</span>
            </div>
        </div>
        <div style="text-align:center;color:var(--text2);font-size:13px;margin-top:20px;font-weight:700;">–†–∞–∑–≤–∏–≤–∞–π–∫–∞ v1.0 ¬∑ –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è</div>
    </section>

    <!-- ========== ADMIN ========== -->
    <section id="admin" class="hidden">
        <div class="admin-tabs">
            <button class="admin-tab active" onclick="Admin.setTab('songs',this)">üéµ –ü–µ—Å–µ–Ω–∫–∏</button>
            <button class="admin-tab" onclick="Admin.setTab('podcasts',this)">üéôÔ∏è –ü–æ–¥–∫–∞—Å—Ç—ã</button>
            <button class="admin-tab" onclick="Admin.setTab('puzzles',this)">üß© –†–µ–±—É—Å—ã</button>
            <button class="admin-tab" onclick="Admin.setTab('riddles',this)">ü§î –ó–∞–≥–∞–¥–∫–∏</button>
        </div>
        <div class="admin-list" id="admin-list"></div>
        <button class="admin-add-btn" onclick="Admin.openModal(null)">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
        <button class="publish-btn" onclick="Admin.publish()">üì§ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ GitHub</button>
    </section>

</div><!-- #app -->

<!-- MODAL -->
<div class="modal-overlay hidden" id="modal" onclick="Admin.closeModal(event)">
    <div class="modal-box">
        <div class="modal-title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å</div>
        <input type="text"     id="m-name"    placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ / –¢–µ–∫—Å—Ç –∑–∞–≥–∞–¥–∫–∏">
        <input type="text"     id="m-answer"  placeholder="–û—Ç–≤–µ—Ç (–¥–ª—è —Ä–µ–±—É—Å–æ–≤/–∑–∞–≥–∞–¥–æ–∫)">
        <input type="text"     id="m-hint"    placeholder="–ü–æ–¥—Å–∫–∞–∑–∫–∞ / –ö–∞—Ä—Ç–∏–Ω–∫–∞-—Ä–µ–±—É—Å (—ç–º–æ–¥–∑–∏)">
        <select id="m-level" style="width:100%;padding:12px 13px;background:var(--card2);border:2px solid var(--border);border-radius:var(--radius-sm);font-family:var(--font);font-size:15px;color:var(--text);outline:none;margin-bottom:8px;">
            <option value="">–£—Ä–æ–≤–µ–Ω—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–±—É—Å–æ–≤)</option>
            <option value="easy">üü¢ –ü—Ä–æ—Å—Ç–æ–π</option>
            <option value="medium">üü° –°—Ä–µ–¥–Ω–∏–π</option>
            <option value="hard">üî¥ –°–ª–æ–∂–Ω—ã–π</option>
        </select>
        <label class="file-label">
            üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª (–∞—É–¥–∏–æ / –∫–∞—Ä—Ç–∏–Ω–∫—É)
            <input type="file" id="m-file" accept="audio/*,image/*" onchange="document.getElementById('m-file-name').textContent=this.files[0]?.name||'–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω'">
        </label>
        <div class="file-chosen" id="m-file-name">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
        <div class="modal-btns">
            <button class="modal-cancel" onclick="Admin.closeModal()">–û—Ç–º–µ–Ω–∞</button>
            <button class="modal-save"   onclick="Admin.save()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
